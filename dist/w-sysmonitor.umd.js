/*!
 * w-sysmonitor v1.0.4
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("v8"),require("node:os"),require("node-os-utils"),require("node-disk-info")):"function"==typeof define&&define.amd?define(["v8","node:os","node-os-utils","node-disk-info"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-sysmonitor"]=e(t.v8,t.os,t["node-os-utils"],t["node-disk-info"])}(this,(function(t,e,r,n){"use strict";var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=Array.isArray,i="object"==typeof o&&o&&o.Object===Object&&o,c="object"==typeof self&&self&&self.Object===Object&&self,u=i||c||Function("return this")(),s=u.Symbol,l=s,f=Object.prototype,h=f.hasOwnProperty,p=f.toString,d=l?l.toStringTag:void 0;var v=function(t){var e=h.call(t,d),r=t[d];try{t[d]=void 0;var n=!0}catch(t){}var o=p.call(t);return n&&(e?t[d]=r:delete t[d]),o},y=Object.prototype.toString;var _=v,g=function(t){return y.call(t)},b=s?s.toStringTag:void 0;var m=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":b&&b in Object(t)?_(t):g(t)};var j=function(t){return null!=t&&"object"==typeof t},w=m,O=j;var k=function(t){return"symbol"==typeof t||O(t)&&"[object Symbol]"==w(t)},I=a,z=k,P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/;var S=function(t,e){if(I(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!z(t))||(T.test(t)||!P.test(t)||null!=e&&t in Object(e))};var M=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},U=m,F=M;var $,A=function(t){if(!F(t))return!1;var e=U(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},C=u["__core-js_shared__"],x=($=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"";var q=function(t){return!!x&&x in t},E=Function.prototype.toString;var D=A,H=q,N=M,R=function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""},G=/^\[object .+?Constructor\]$/,B=Function.prototype,J=Object.prototype,K=B.toString,L=J.hasOwnProperty,Q=RegExp("^"+K.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var V=function(t){return!(!N(t)||H(t))&&(D(t)?Q:G).test(R(t))},W=function(t,e){return null==t?void 0:t[e]};var X=function(t,e){var r=W(t,e);return V(r)?r:void 0},Y=X(Object,"create"),Z=Y;var tt=function(){this.__data__=Z?Z(null):{},this.size=0};var et=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},rt=Y,nt=Object.prototype.hasOwnProperty;var ot=function(t){var e=this.__data__;if(rt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return nt.call(e,t)?e[t]:void 0},at=Y,it=Object.prototype.hasOwnProperty;var ct=Y;var ut=tt,st=et,lt=ot,ft=function(t){var e=this.__data__;return at?void 0!==e[t]:it.call(e,t)},ht=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ct&&void 0===e?"__lodash_hash_undefined__":e,this};function pt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pt.prototype.clear=ut,pt.prototype.delete=st,pt.prototype.get=lt,pt.prototype.has=ft,pt.prototype.set=ht;var dt=pt;var vt=function(){this.__data__=[],this.size=0};var yt=function(t,e){return t===e||t!=t&&e!=e};var _t=function(t,e){for(var r=t.length;r--;)if(yt(t[r][0],e))return r;return-1},gt=_t,bt=Array.prototype.splice;var mt=_t;var jt=_t;var wt=_t;var Ot=vt,kt=function(t){var e=this.__data__,r=gt(e,t);return!(r<0)&&(r==e.length-1?e.pop():bt.call(e,r,1),--this.size,!0)},It=function(t){var e=this.__data__,r=mt(e,t);return r<0?void 0:e[r][1]},zt=function(t){return jt(this.__data__,t)>-1},Pt=function(t,e){var r=this.__data__,n=wt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Tt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Tt.prototype.clear=Ot,Tt.prototype.delete=kt,Tt.prototype.get=It,Tt.prototype.has=zt,Tt.prototype.set=Pt;var St=Tt,Mt=X(u,"Map"),Ut=dt,Ft=St,$t=Mt;var At=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ct=function(t,e){var r=t.__data__;return At(e)?r["string"==typeof e?"string":"hash"]:r.map},xt=Ct;var qt=Ct;var Et=Ct;var Dt=Ct;var Ht=function(){this.size=0,this.__data__={hash:new Ut,map:new($t||Ft),string:new Ut}},Nt=function(t){var e=xt(this,t).delete(t);return this.size-=e?1:0,e},Rt=function(t){return qt(this,t).get(t)},Gt=function(t){return Et(this,t).has(t)},Bt=function(t,e){var r=Dt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Jt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Jt.prototype.clear=Ht,Jt.prototype.delete=Nt,Jt.prototype.get=Rt,Jt.prototype.has=Gt,Jt.prototype.set=Bt;var Kt=Jt;function Lt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(Lt.Cache||Kt),r}Lt.Cache=Kt;var Qt=Lt;var Vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wt=/\\(\\)?/g,Xt=function(t){var e=Qt(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Vt,(function(t,r,n,o){e.push(n?o.replace(Wt,"$1"):r||t)})),e}));var Yt=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},Zt=a,te=k,ee=s?s.prototype:void 0,re=ee?ee.toString:void 0;var ne=function t(e){if("string"==typeof e)return e;if(Zt(e))return Yt(e,t)+"";if(te(e))return re?re.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},oe=ne;var ae=a,ie=S,ce=Xt,ue=function(t){return null==t?"":oe(t)};var se=k;var le=function(t,e){return ae(t)?t:ie(t,e)?[t]:ce(ue(t))},fe=function(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var he=function(t,e){for(var r=0,n=(e=le(e,t)).length;null!=t&&r<n;)t=t[fe(e[r++])];return r&&r==n?t:void 0};var pe=function(t,e,r){var n=null==t?void 0:he(t,e);return void 0===n?r:n},de=m,ve=j;var ye=function(t){return"number"==typeof t||ve(t)&&"[object Number]"==de(t)};let _e=1073741824;return async function(){let o=pe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"timeCpuUsage");ye(o)||(o=200);let a="";try{a=r.cpu}catch(t){}let i={totalIdle:"",totalTick:"",avgIdle:"",avgTotal:""};try{i=a.average()}catch(t){}let c="";try{c=a.count()}catch(t){}let u="";await a.usage(o).then((t=>{u=t})).catch((t=>{console.log("catch cpu.usage",t)}));let s="";try{s=a.model()}catch(t){}let l="",f=0,h=0,p=0,d=0,v=0;await n.getDiskInfo().then((t=>{l=t.map(((t,e)=>{let r={name:t._mounted,display:t._filesystem,total:t._blocks/_e,free:t._available/_e,used:t._used/_e,usedPercentage:t._used/t._blocks*100};return h+=r.total,p+=r.free,d+=r.used,r})),f=l.length,v=d/h*100})).catch((t=>{console.log("catch nodeDiskInfo.getDiskInfo",t)}));let y="";try{y=r.mem}catch(t){}let _="",g=0,b=0,m=0,j=0;await y.info().then((t=>{_=t,g=t.freeMemMb/1024,b=t.totalMemMb/1024,m=t.usedMemMb/1024,j=t.usedMemPercentage})).catch((t=>{console.log("catch mem.info",t)}));let w="";try{w=t.getHeapStatistics()}catch(t){}let O="";try{O=w.heap_size_limit/_e}catch(t){}let k="";try{k=w.total_available_size/_e}catch(t){}let I="";try{I=O-k}catch(t){}let z="";try{z=I/O*100}catch(t){}let P="";try{P=e.networkInterfaces()}catch(t){}let T="";try{T=e.platform()}catch(t){}let S="";try{S=e.uptime()}catch(t){}let M="";try{M=e.hostname()}catch(t){}let U="";try{U=e.type()}catch(t){}let F="";try{F=e.arch()}catch(t){}let $="";try{$=e.machine()}catch(t){}let A={uid:"",gid:"",username:"",homedir:"",shell:""};try{A=e.userInfo()}catch(t){}return{cpuInfo:i,cpuCount:c,cpuUsedPercentage:u,cpuModel:s,disksInfo:l,diskCount:f,diskTotal:h,diskFree:p,diskUsed:d,diskUsedPercentage:v,memInfo:_,memFree:g,memTotal:b,memUsed:m,memUsedPercentage:j,heapInfo:w,heapTotal:O,heapFree:k,heapUsed:I,heapUsedPercentage:z,netsInfo:P,osPlatform:T,osUptime:S,osHostname:M,osType:U,osArch:F,osMachine:$,userInfo:A}}}));
//# sourceMappingURL=w-sysmonitor.umd.js.map
