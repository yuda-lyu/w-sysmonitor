/*!
 * w-sysmonitor v1.0.2
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("v8"),require("node:os"),require("node-os-utils"),require("node-disk-info")):"function"==typeof define&&define.amd?define(["v8","node:os","node-os-utils","node-disk-info"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-sysmonitor"]=e(t.v8,t.os,t["node-os-utils"],t["node-disk-info"])}(this,(function(t,e,r,n){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=o(t),i=o(e),c=o(r),u=o(n),l=Array.isArray,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f="object"==typeof s&&s&&s.Object===Object&&s,h="object"==typeof self&&self&&self.Object===Object&&self,d=f||h||Function("return this")(),p=d.Symbol,v=Object.prototype,y=v.hasOwnProperty,_=v.toString,g=p?p.toStringTag:void 0;var b=function(t){var e=y.call(t,g),r=t[g];try{t[g]=void 0;var n=!0}catch(t){}var o=_.call(t);return n&&(e?t[g]=r:delete t[g]),o},m=Object.prototype.toString;var j=function(t){return m.call(t)},w="[object Null]",O="[object Undefined]",k=p?p.toStringTag:void 0;var z=function(t){return null==t?void 0===t?O:w:k&&k in Object(t)?b(t):j(t)};var I=function(t){return null!=t&&"object"==typeof t},P="[object Symbol]";var T=function(t){return"symbol"==typeof t||I(t)&&z(t)==P},S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/;var U=function(t,e){if(l(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!T(t))||(M.test(t)||!S.test(t)||null!=e&&t in Object(e))};var F=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},$="[object AsyncFunction]",A="[object Function]",C="[object GeneratorFunction]",x="[object Proxy]";var q,E=function(t){if(!F(t))return!1;var e=z(t);return e==A||e==C||e==$||e==x},D=d["__core-js_shared__"],H=(q=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"";var N=function(t){return!!H&&H in t},R=Function.prototype.toString;var G=function(t){if(null!=t){try{return R.call(t)}catch(t){}try{return t+""}catch(t){}}return""},B=/^\[object .+?Constructor\]$/,J=Function.prototype,K=Object.prototype,L=J.toString,Q=K.hasOwnProperty,V=RegExp("^"+L.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var W=function(t){return!(!F(t)||N(t))&&(E(t)?V:B).test(G(t))};var X=function(t,e){return null==t?void 0:t[e]};var Y=function(t,e){var r=X(t,e);return W(r)?r:void 0},Z=Y(Object,"create");var tt=function(){this.__data__=Z?Z(null):{},this.size=0};var et=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},rt="__lodash_hash_undefined__",nt=Object.prototype.hasOwnProperty;var ot=function(t){var e=this.__data__;if(Z){var r=e[t];return r===rt?void 0:r}return nt.call(e,t)?e[t]:void 0},at=Object.prototype.hasOwnProperty;var it=function(t){var e=this.__data__;return Z?void 0!==e[t]:at.call(e,t)},ct="__lodash_hash_undefined__";var ut=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Z&&void 0===e?ct:e,this};function lt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}lt.prototype.clear=tt,lt.prototype.delete=et,lt.prototype.get=ot,lt.prototype.has=it,lt.prototype.set=ut;var st=lt;var ft=function(){this.__data__=[],this.size=0};var ht=function(t,e){return t===e||t!=t&&e!=e};var dt=function(t,e){for(var r=t.length;r--;)if(ht(t[r][0],e))return r;return-1},pt=Array.prototype.splice;var vt=function(t){var e=this.__data__,r=dt(e,t);return!(r<0)&&(r==e.length-1?e.pop():pt.call(e,r,1),--this.size,!0)};var yt=function(t){var e=this.__data__,r=dt(e,t);return r<0?void 0:e[r][1]};var _t=function(t){return dt(this.__data__,t)>-1};var gt=function(t,e){var r=this.__data__,n=dt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function bt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bt.prototype.clear=ft,bt.prototype.delete=vt,bt.prototype.get=yt,bt.prototype.has=_t,bt.prototype.set=gt;var mt=bt,jt=Y(d,"Map");var wt=function(){this.size=0,this.__data__={hash:new st,map:new(jt||mt),string:new st}};var Ot=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var kt=function(t,e){var r=t.__data__;return Ot(e)?r["string"==typeof e?"string":"hash"]:r.map};var zt=function(t){var e=kt(this,t).delete(t);return this.size-=e?1:0,e};var It=function(t){return kt(this,t).get(t)};var Pt=function(t){return kt(this,t).has(t)};var Tt=function(t,e){var r=kt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}St.prototype.clear=wt,St.prototype.delete=zt,St.prototype.get=It,St.prototype.has=Pt,St.prototype.set=Tt;var Mt=St,Ut="Expected a function";function Ft(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ut);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(Ft.Cache||Mt),r}Ft.Cache=Mt;var $t=Ft,At=500;var Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/\\(\\)?/g,qt=function(t){var e=$t(t,(function(t){return r.size===At&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ct,(function(t,r,n,o){e.push(n?o.replace(xt,"$1"):r||t)})),e}));var Et=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},Dt=1/0,Ht=p?p.prototype:void 0,Nt=Ht?Ht.toString:void 0;var Rt=function t(e){if("string"==typeof e)return e;if(l(e))return Et(e,t)+"";if(T(e))return Nt?Nt.call(e):"";var r=e+"";return"0"==r&&1/e==-Dt?"-0":r};var Gt=function(t){return null==t?"":Rt(t)};var Bt=function(t,e){return l(t)?t:U(t,e)?[t]:qt(Gt(t))},Jt=1/0;var Kt=function(t){if("string"==typeof t||T(t))return t;var e=t+"";return"0"==e&&1/t==-Jt?"-0":e};var Lt=function(t,e){for(var r=0,n=(e=Bt(e,t)).length;null!=t&&r<n;)t=t[Kt(e[r++])];return r&&r==n?t:void 0};var Qt=function(t,e,r){var n=null==t?void 0:Lt(t,e);return void 0===n?r:n},Vt="[object Number]";var Wt=function(t){return"number"==typeof t||I(t)&&z(t)==Vt};let Xt=1073741824;return async function(){let t=Qt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"timeCpuUsage");Wt(t)||(t=200);let e="";try{e=c.default.cpu}catch(t){}let r={totalIdle:"",totalTick:"",avgIdle:"",avgTotal:""};try{r=e.average()}catch(t){}let n="";try{n=e.count()}catch(t){}let o="";await e.usage(t).then((t=>{o=t})).catch((t=>{console.log("catch cpu.usage",t)}));let l="";try{l=e.model()}catch(t){}let s="",f=0,h=0,d=0,p=0,v=0;await u.default.getDiskInfo().then((t=>{s=t.map(((t,e)=>{let r={name:t._mounted,display:t._filesystem,total:t._blocks/Xt,free:t._available/Xt,used:t._used/Xt,usedPercentage:t._used/t._blocks*100};return h+=r.total,d+=r.free,p+=r.used,r})),f=s.length,v=p/h*100})).catch((t=>{console.log("catch nodeDiskInfo.getDiskInfo",t)}));let y="";try{y=c.default.mem}catch(t){}let _="",g=0,b=0,m=0,j=0;await y.info().then((t=>{_=t,g=t.freeMemMb/1024,b=t.totalMemMb/1024,m=t.usedMemMb/1024,j=t.usedMemPercentage})).catch((t=>{console.log("catch mem.info",t)}));let w="";try{w=a.default.getHeapStatistics()}catch(t){}let O="";try{O=w.heap_size_limit/Xt}catch(t){}let k="";try{k=w.total_available_size/Xt}catch(t){}let z="";try{z=O-k}catch(t){}let I="";try{I=z/O*100}catch(t){}let P="";try{P=i.default.networkInterfaces()}catch(t){}let T="";try{T=i.default.platform()}catch(t){}let S="";try{S=i.default.uptime()}catch(t){}let M="";try{M=i.default.hostname()}catch(t){}let U="";try{U=i.default.type()}catch(t){}let F="";try{F=i.default.arch()}catch(t){}let $="";try{$=i.default.machine()}catch(t){}let A={uid:"",gid:"",username:"",homedir:"",shell:""};try{A=i.default.userInfo()}catch(t){}return{cpuInfo:r,cpuCount:n,cpuUsedPercentage:o,cpuModel:l,disksInfo:s,diskCount:f,diskTotal:h,diskFree:d,diskUsed:p,diskUsedPercentage:v,memInfo:_,memFree:g,memTotal:b,memUsed:m,memUsedPercentage:j,heapInfo:w,heapTotal:O,heapFree:k,heapUsed:z,heapUsedPercentage:I,netsInfo:P,osPlatform:T,osUptime:S,osHostname:M,osType:U,osArch:F,osMachine:$,userInfo:A}}}));
//# sourceMappingURL=w-sysmonitor.umd.js.map
