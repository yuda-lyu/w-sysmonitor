/*!
 * w-sysmonitor v1.0.7
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("v8"),require("node:os"),require("node-os-utils"),require("node-disk-info")):"function"==typeof define&&define.amd?define(["v8","node:os","node-os-utils","node-disk-info"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-sysmonitor"]=e(t.v8,t.os,t["node-os-utils"],t["node-disk-info"])}(this,(function(t,e,r,n){"use strict";var o=Array.isArray,a="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,c=a||i||Function("return this")(),s=c.Symbol,u=Object.prototype,l=u.hasOwnProperty,h=u.toString,f=s?s.toStringTag:void 0;var p=Object.prototype.toString;var d="[object Null]",y="[object Undefined]",_=s?s.toStringTag:void 0;function v(t){return null==t?void 0===t?y:d:_&&_ in Object(t)?function(t){var e=l.call(t,f),r=t[f];try{t[f]=void 0;var n=!0}catch(t){}var o=h.call(t);return n&&(e?t[f]=r:delete t[f]),o}(t):function(t){return p.call(t)}(t)}function g(t){return null!=t&&"object"==typeof t}var b="[object Symbol]";function m(t){return"symbol"==typeof t||g(t)&&v(t)==b}var j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;function k(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var w="[object AsyncFunction]",z="[object Function]",I="[object GeneratorFunction]",P="[object Proxy]";var T,S=c["__core-js_shared__"],M=(T=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"";var U=Function.prototype.toString;var F=/^\[object .+?Constructor\]$/,$=Function.prototype,A=Object.prototype,C=$.toString,x=A.hasOwnProperty,q=RegExp("^"+C.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E(t){if(!k(t)||(e=t,M&&M in e))return!1;var e,r=function(t){if(!k(t))return!1;var e=v(t);return e==z||e==I||e==w||e==P}(t)?q:F;return r.test(function(t){if(null!=t){try{return U.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function D(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return E(r)?r:void 0}var H=D(Object,"create");var N=Object.prototype.hasOwnProperty;var R=Object.prototype.hasOwnProperty;function G(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function B(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}G.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},G.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},G.prototype.get=function(t){var e=this.__data__;if(H){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return N.call(e,t)?e[t]:void 0},G.prototype.has=function(t){var e=this.__data__;return H?void 0!==e[t]:R.call(e,t)},G.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=H&&void 0===e?"__lodash_hash_undefined__":e,this};var J=Array.prototype.splice;function K(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(t){var e=this.__data__,r=B(e,t);return!(r<0)&&(r==e.length-1?e.pop():J.call(e,r,1),--this.size,!0)},K.prototype.get=function(t){var e=this.__data__,r=B(e,t);return r<0?void 0:e[r][1]},K.prototype.has=function(t){return B(this.__data__,t)>-1},K.prototype.set=function(t,e){var r=this.__data__,n=B(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var L=D(c,"Map");function Q(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function V(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}V.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(L||K),string:new G}},V.prototype.delete=function(t){var e=Q(this,t).delete(t);return this.size-=e?1:0,e},V.prototype.get=function(t){return Q(this,t).get(t)},V.prototype.has=function(t){return Q(this,t).has(t)},V.prototype.set=function(t,e){var r=Q(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var W="Expected a function";function X(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(W);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(X.Cache||V),r}X.Cache=V;var Y,Z,tt,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/\\(\\)?/g,nt=(Y=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(et,(function(t,r,n,o){e.push(n?o.replace(rt,"$1"):r||t)})),e},Z=X(Y,(function(t){return 500===tt.size&&tt.clear(),t})),tt=Z.cache,Z),ot=nt;var at=1/0,it=s?s.prototype:void 0,ct=it?it.toString:void 0;function st(t){if("string"==typeof t)return t;if(o(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,st)+"";if(m(t))return ct?ct.call(t):"";var e=t+"";return"0"==e&&1/t==-at?"-0":e}function ut(t,e){return o(t)?t:function(t,e){if(o(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!m(t))||O.test(t)||!j.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:ot(function(t){return null==t?"":st(t)}(t))}var lt=1/0;function ht(t){if("string"==typeof t||m(t))return t;var e=t+"";return"0"==e&&1/t==-lt?"-0":e}function ft(t,e,r){var n=null==t?void 0:function(t,e){for(var r=0,n=(e=ut(e,t)).length;null!=t&&r<n;)t=t[ht(e[r++])];return r&&r==n?t:void 0}(t,e);return void 0===n?r:n}var pt="[object Number]";let dt=1073741824;return async function(){let o=ft(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"timeCpuUsage");var a;"number"==typeof(a=o)||g(a)&&v(a)==pt||(o=200);let i="";try{i=r.cpu}catch(t){}let c={totalIdle:"",totalTick:"",avgIdle:"",avgTotal:""};try{c=i.average()}catch(t){}let s="";try{s=i.count()}catch(t){}let u="";await i.usage(o).then((t=>{u=t})).catch((t=>{console.log("catch cpu.usage",t)}));let l="";try{l=i.model()}catch(t){}let h="",f=0,p=0,d=0,y=0,_=0;await n.getDiskInfo().then((t=>{h=t.map(((t,e)=>{let r={name:t._mounted,display:t._filesystem,total:t._blocks/dt,free:t._available/dt,used:t._used/dt,usedPercentage:t._used/t._blocks*100};return p+=r.total,d+=r.free,y+=r.used,r})),f=h.length,_=y/p*100})).catch((t=>{console.log("catch nodeDiskInfo.getDiskInfo",t)}));let b="";try{b=r.mem}catch(t){}let m="",j=0,O=0,k=0,w=0;await b.info().then((t=>{m=t,j=t.freeMemMb/1024,O=t.totalMemMb/1024,k=t.usedMemMb/1024,w=t.usedMemPercentage})).catch((t=>{console.log("catch mem.info",t)}));let z="";try{z=t.getHeapStatistics()}catch(t){}let I="";try{I=z.heap_size_limit/dt}catch(t){}let P="";try{P=z.total_available_size/dt}catch(t){}let T="";try{T=I-P}catch(t){}let S="";try{S=T/I*100}catch(t){}let M="";try{M=e.networkInterfaces()}catch(t){}let U="";try{U=e.platform()}catch(t){}let F="";try{F=e.uptime()}catch(t){}let $="";try{$=e.hostname()}catch(t){}let A="";try{A=e.type()}catch(t){}let C="";try{C=e.arch()}catch(t){}let x="";try{x=e.machine()}catch(t){}let q={uid:"",gid:"",username:"",homedir:"",shell:""};try{q=e.userInfo()}catch(t){}return{cpuInfo:c,cpuCount:s,cpuUsedPercentage:u,cpuModel:l,disksInfo:h,diskCount:f,diskTotal:p,diskFree:d,diskUsed:y,diskUsedPercentage:_,memInfo:m,memFree:j,memTotal:O,memUsed:k,memUsedPercentage:w,heapInfo:z,heapTotal:I,heapFree:P,heapUsed:T,heapUsedPercentage:S,netsInfo:M,osPlatform:U,osUptime:F,osHostname:$,osType:A,osArch:C,osMachine:x,userInfo:q}}}));
//# sourceMappingURL=w-sysmonitor.umd.js.map
