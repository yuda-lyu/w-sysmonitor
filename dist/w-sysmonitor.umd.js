/*!
 * w-sysmonitor v1.0.1
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("v8"),require("node:os"),require("node-os-utils"),require("node-disk-info")):"function"==typeof define&&define.amd?define(["v8","node:os","node-os-utils","node-disk-info"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-sysmonitor"]=e(t.v8,t.os,t["node-os-utils"],t["node-disk-info"])}(this,(function(t,e,r,n){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=o(t),i=o(e),u=o(r),s=o(n),c=Array.isArray,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f="object"==typeof l&&l&&l.Object===Object&&l,p="object"==typeof self&&self&&self.Object===Object&&self,d=f||p||Function("return this")(),h=d.Symbol,v=Object.prototype,_=v.hasOwnProperty,y=v.toString,g=h?h.toStringTag:void 0;var b=function(t){var e=_.call(t,g),r=t[g];try{t[g]=void 0;var n=!0}catch(t){}var o=y.call(t);return n&&(e?t[g]=r:delete t[g]),o},m=Object.prototype.toString;var j=function(t){return m.call(t)},w="[object Null]",O="[object Undefined]",k=h?h.toStringTag:void 0;var z=function(t){return null==t?void 0===t?O:w:k&&k in Object(t)?b(t):j(t)};var P=function(t){return null!=t&&"object"==typeof t},I="[object Symbol]";var T=function(t){return"symbol"==typeof t||P(t)&&z(t)==I},S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/;var U=function(t,e){if(c(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!T(t))||(M.test(t)||!S.test(t)||null!=e&&t in Object(e))};var F=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},$="[object AsyncFunction]",A="[object Function]",C="[object GeneratorFunction]",x="[object Proxy]";var q,E=function(t){if(!F(t))return!1;var e=z(t);return e==A||e==C||e==$||e==x},D=d["__core-js_shared__"],H=(q=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"";var N=function(t){return!!H&&H in t},R=Function.prototype.toString;var G=function(t){if(null!=t){try{return R.call(t)}catch(t){}try{return t+""}catch(t){}}return""},B=/^\[object .+?Constructor\]$/,J=Function.prototype,K=Object.prototype,L=J.toString,Q=K.hasOwnProperty,V=RegExp("^"+L.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var W=function(t){return!(!F(t)||N(t))&&(E(t)?V:B).test(G(t))};var X=function(t,e){return null==t?void 0:t[e]};var Y=function(t,e){var r=X(t,e);return W(r)?r:void 0},Z=Y(Object,"create");var tt=function(){this.__data__=Z?Z(null):{},this.size=0};var et=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},rt="__lodash_hash_undefined__",nt=Object.prototype.hasOwnProperty;var ot=function(t){var e=this.__data__;if(Z){var r=e[t];return r===rt?void 0:r}return nt.call(e,t)?e[t]:void 0},at=Object.prototype.hasOwnProperty;var it=function(t){var e=this.__data__;return Z?void 0!==e[t]:at.call(e,t)},ut="__lodash_hash_undefined__";var st=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Z&&void 0===e?ut:e,this};function ct(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ct.prototype.clear=tt,ct.prototype.delete=et,ct.prototype.get=ot,ct.prototype.has=it,ct.prototype.set=st;var lt=ct;var ft=function(){this.__data__=[],this.size=0};var pt=function(t,e){return t===e||t!=t&&e!=e};var dt=function(t,e){for(var r=t.length;r--;)if(pt(t[r][0],e))return r;return-1},ht=Array.prototype.splice;var vt=function(t){var e=this.__data__,r=dt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ht.call(e,r,1),--this.size,!0)};var _t=function(t){var e=this.__data__,r=dt(e,t);return r<0?void 0:e[r][1]};var yt=function(t){return dt(this.__data__,t)>-1};var gt=function(t,e){var r=this.__data__,n=dt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function bt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bt.prototype.clear=ft,bt.prototype.delete=vt,bt.prototype.get=_t,bt.prototype.has=yt,bt.prototype.set=gt;var mt=bt,jt=Y(d,"Map");var wt=function(){this.size=0,this.__data__={hash:new lt,map:new(jt||mt),string:new lt}};var Ot=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var kt=function(t,e){var r=t.__data__;return Ot(e)?r["string"==typeof e?"string":"hash"]:r.map};var zt=function(t){var e=kt(this,t).delete(t);return this.size-=e?1:0,e};var Pt=function(t){return kt(this,t).get(t)};var It=function(t){return kt(this,t).has(t)};var Tt=function(t,e){var r=kt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}St.prototype.clear=wt,St.prototype.delete=zt,St.prototype.get=Pt,St.prototype.has=It,St.prototype.set=Tt;var Mt=St,Ut="Expected a function";function Ft(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ut);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(Ft.Cache||Mt),r}Ft.Cache=Mt;var $t=Ft,At=500;var Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/\\(\\)?/g,qt=function(t){var e=$t(t,(function(t){return r.size===At&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ct,(function(t,r,n,o){e.push(n?o.replace(xt,"$1"):r||t)})),e}));var Et=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},Dt=1/0,Ht=h?h.prototype:void 0,Nt=Ht?Ht.toString:void 0;var Rt=function t(e){if("string"==typeof e)return e;if(c(e))return Et(e,t)+"";if(T(e))return Nt?Nt.call(e):"";var r=e+"";return"0"==r&&1/e==-Dt?"-0":r};var Gt=function(t){return null==t?"":Rt(t)};var Bt=function(t,e){return c(t)?t:U(t,e)?[t]:qt(Gt(t))},Jt=1/0;var Kt=function(t){if("string"==typeof t||T(t))return t;var e=t+"";return"0"==e&&1/t==-Jt?"-0":e};var Lt=function(t,e){for(var r=0,n=(e=Bt(e,t)).length;null!=t&&r<n;)t=t[Kt(e[r++])];return r&&r==n?t:void 0};var Qt=function(t,e,r){var n=null==t?void 0:Lt(t,e);return void 0===n?r:n},Vt="[object Number]";var Wt=function(t){return"number"==typeof t||P(t)&&z(t)==Vt};let Xt=1073741824;return async function(){let t=Qt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"timeCpuUsage");Wt(t)||(t=200);let e=u.default.cpu,r=e.average(),n=e.count(),o="";await e.usage(t).then((t=>{o=t})).catch((t=>{console.log("catch cpu.usage",t)}));let c=e.model(),l=u.default.mem,f="",p=0,d=0,h=0,v=0;await l.info().then((t=>{f=t,p=t.freeMemMb/1024,d=t.totalMemMb/1024,h=t.usedMemMb/1024,v=t.usedMemPercentage})).catch((t=>{console.log("catch mem.info",t)}));let _=a.default.getHeapStatistics(),y=_.heap_size_limit/Xt,g=_.total_available_size/Xt,b=y-g,m=b/y*100,j="",w=0,O=0,k=0,z=0,P=0;await s.default.getDiskInfo().then((t=>{j=t.map(((t,e)=>{let r={name:t._mounted,display:t._filesystem,total:t._blocks/Xt,free:t._available/Xt,used:t._used/Xt,usedPercentage:t._used/t._blocks*100};return O+=r.total,k+=r.free,z+=r.used,r})),w=j.length,P=z/O*100})).catch((t=>{console.log("catch nodeDiskInfo.getDiskInfo",t)}));let I=i.default.networkInterfaces(),T=i.default.platform(),S=i.default.uptime(),M=i.default.hostname(),U=i.default.type(),F=i.default.arch(),$=i.default.machine(),A=i.default.userInfo();return{cpuInfo:r,cpuCount:n,cpuUsedPercentage:o,cpuModel:c,disksInfo:j,diskCount:w,diskTotal:O,diskFree:k,diskUsed:z,diskUsedPercentage:P,memInfo:f,memFree:p,memTotal:d,memUsed:h,memUsedPercentage:v,heapInfo:_,heapTotal:y,heapFree:g,heapUsed:b,heapUsedPercentage:m,netsInfo:I,osPlatform:T,osUptime:S,osHostname:M,osType:U,osArch:F,osMachine:$,userInfo:A}}}));
//# sourceMappingURL=w-sysmonitor.umd.js.map
